"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4846],{4896:function(e,t,n){n(2791),n(184)},4846:function(e,t,n){n.a(e,(async function(e,r){try{n.r(t);var a=n(9439),c=n(4165),o=n(5861),u=n(2791),i=n(1243),s=(n(4896),n(2426)),l=n.n(s),f=n(184),d=(window.location.origin,null),p=null,h=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/incrementAttempt",{withCredentials:!0});case 3:return t=e.sent,n=JSON.stringify(t.data),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Attempt number Check failed:",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/descrementCredits",{withCredentials:!0});case 3:return t=e.sent,n=JSON.stringify(t.data),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Credit desc failed:",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/getUser",{withCredentials:!0});case 3:return t=e.sent,JSON.stringify(t.data),e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Login failed:",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=await g().then((function(e){return e.id})),v=await g().then((function(e){return e.role}));await g().then((function(e){return e.currentPeriodEnd&&l()(e.currentPeriodEnd)>Date.now()}));t.default=function(){var e=(0,u.useState)([]),t=(0,a.Z)(e,2),n=(t[0],t[1]),r=(0,u.useState)([]),s=(0,a.Z)(r,2),l=(s[0],s[1]),g=(0,u.useState)(!1),Z=(0,a.Z)(g,2);Z[0],Z[1];(0,u.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/api/getAllProductss",{withCredentials:!0});case 3:t=e.sent,n(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch plans:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,u.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/api/getAllProductsspayment",{withCredentials:!0});case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch plans payment:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var y=(0,u.useState)(!1),b=(0,a.Z)(y,2),x=(b[0],b[1],(0,u.useState)(null)),C=(0,a.Z)(x,2),k=(C[0],C[1]),S=(0,u.useState)(!0),E=(0,a.Z)(S,2),I=(E[0],E[1]),N=(0,u.useState)(null),B=(0,a.Z)(N,2),U=B[0],j=(B[1],(0,u.useState)(null)),O=(0,a.Z)(j,2),A=(O[0],O[1]),P=(0,u.useState)(""),R=(0,a.Z)(P,2),J=R[0],L=(R[1],(0,u.useState)("")),M=(0,a.Z)(L,2),z=(M[0],M[1],(0,u.useState)(null)),D=(0,a.Z)(z,2),F=(D[0],D[1]),V=(0,u.useState)(null),_=(0,a.Z)(V,2),q=(_[0],_[1]);(0,u.useEffect)((function(){(0,i.Z)({method:"get",withCredentials:!0,url:"/checkNumberOfAttempt"}).then((function(e){F(e.data)})).catch((function(e){return console.log(e)}))})),(0,u.useEffect)((function(){(0,i.Z)({method:"get",withCredentials:!0,url:"/checkSubscribe"}).then((function(e){var t=JSON.stringify(e.data);q(t),d=t})).catch((function(e){return console.log(e)}))})),(0,u.useEffect)((function(){(0,i.Z)({method:"get",withCredentials:!0,url:"/getUserCredits"}).then((function(e){p=e.data.credits})).catch((function(e){return console.error(e)}))}),[]);(0,u.useEffect)((function(){!J.trim()}));(0,u.useEffect)((function(){if(("true"===d&&(p>0||"admin"==v)||p>0)&&U)try{I(!0);var e,t,n=encodeURIComponent(U);null!=document.getElementById("numberImages")&&(e=document.getElementById("numberImages").value);var r,a,u=document.getElementById("desc").value.split(" ").join("+"),s=encodeURIComponent(u);if(null!=document.getElementById("NegPro")){var l=document.getElementById("NegPro").value.split(" ").join("+");t=encodeURIComponent(l)}else t="";r=null!=document.getElementById("size")?encodeURIComponent(document.getElementById("size").value):"Original",a=null!=document.getElementById("scale")?document.getElementById("scale").value:1,fetch("/api/genbg?url=".concat(n,"&promptDesc=").concat(s,"&image_number=").concat(e,"&NpromptDesc=").concat(t,"&size=").concat(r,"&scale=").concat(a)).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then(function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(A(t.newurl),n=0;n<t.newurl.length;n++)(0,i.Z)({method:"post",data:{imageURL:t.newurl[n]},url:"/downloadImage",withCredentials:!0}).then((function(e){var t=e.data.newImageUrl;(0,i.Z)({method:"post",data:{url:t,id_user:w},url:"/addImage",withCredentials:!0}).then((function(e){})).catch((function(e){console.error(e)}))})).catch((function(e){return console.log(e)}));return k(!1),(0,i.Z)({method:"get",withCredentials:!0,url:"/checkSubscribe"}).then((function(e){var t=JSON.stringify(e.data);q(t)})).catch((function(e){return console.log(e)})),e.next=6,h();case 6:return e.next=8,m();case 8:(0,i.Z)({method:"get",withCredentials:!0,url:"/checkNumberOfAttempt"}).then((function(e){F(e.data)})).catch((function(e){return console.log(e)})),(0,i.Z)({method:"get",withCredentials:!0,url:"/getUserCredits"}).then((function(e){p=e.data.credits})).catch((function(e){return console.log(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error:",e),k(!1)})),k(!1),I(!1)}catch(f){console.error("Error creating object URL:",f),k(!1),I(!1)}}),[U]);return(0,f.jsxs)("main",{className:"max-w-3/4 h-full flex  flex-col items-center min-h-screen p-2",children:["Comming Soon ....",!1,(0,f.jsx)("style",{children:"\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n        main {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .footer-content {\n          width: 100%;\n          border-top: 1px solid #eaeaea;\n          display: flex;\n          justify-content: space-between; \n          align-items: center; \n          color: gray;\n        }\n\n        .footer-links {\n          text-decoration: none;\n          color: gray;\n        } \n        code {\n          background: #fafafa;\n          border-radius: 5px;\n          padding: 0.75rem;\n          font-size: 1.1rem;\n          font-family:\n            Menlo,\n            Monaco,\n            Lucida Console,\n            Liberation Mono,\n            DejaVu Sans Mono,\n            Bitstream Vera Sans Mono,\n            Courier New,\n            monospace;\n        }\n      "})]})},r()}catch(Z){r(Z)}}),1)}}]);
//# sourceMappingURL=4846.18ca9678.chunk.js.map